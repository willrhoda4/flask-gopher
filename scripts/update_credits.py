





import requests             # For making HTTP requests to the Node API
import os                   # For fetching environment variables
from   dotenv import load_dotenv

env_path = os.path.abspath(os.path.join(os.path.dirname(__file__), '../.env'))
load_dotenv(dotenv_path=env_path)


# function to send updated credits back to the Node API
def update_credits_on_node(credits, api_url, token):

    # print(f"Adding the following credits: \n\n{credits}\n")
    print("attempting to update credits on Node API")
   
    #set up the headers with the authorization token for secure API access
    headers = {
        'Authorization': f'Bearer {token}',  # insert the token in the Authorization header
        'Content-Type': 'application/json'   # specify that the content being sent is JSON
    }

    # send the updated credits data as a POST request to the Node API
    response = requests.post(f'{api_url}/updateCredits', json=credits, headers=headers)


    if response.status_code == 200:
        try:
            response_data = response.json()
            print(f"Message: {response_data['message']}\n"
                  f"RowCount: {response_data['rowCount']}\n"
                  f"Query: {response_data['query']}\n"
                  f"Values: {response_data['values']}\n")
        except ValueError:
            print("Response is not in JSON format. Raw response:")
            print(response.text)
    else:
        print(f"Error: {response.status_code}")
        print(f"Response: {response}")




# main function to fetch new credits, upload posters, and update credits on Node API
if __name__ == "__main__":
   
    # fetch the Node API URL and GitHub token from environment variables (these will be set in GitHub Actions)
    node_api_url = os.getenv('NODE_API_URL', 'http://localhost:5000')  # Default API URL    
    github_token = os.getenv('GITHUB_TOKEN')  # Token for secure access to the Node API

    # simulated new credits from IMDb (replace this with the actual scraped data)
    new_credits = [{'title': 'El Toro', 'imdb_id': 'tt22899354', 'cloudinary_id': 'posters/El_Toro_tt22899354'}, {'title': '&apos;Tis the Season to be Merry', 'imdb_id': 'tt15739902', 'cloudinary_id': 'posters/andapos;Tis_the_Season_to_be_Merry_tt15739902'}, {'title': 'Shazam!', 'imdb_id': 'tt0448115', 'cloudinary_id': 'posters/Shazam!_tt0448115'}, {'title': 'The Zealot', 'imdb_id': 'tt32298956', 'cloudinary_id': 'no poster'}, {'title': 'The Best Christmas Pageant Ever', 'imdb_id': 'tt29768335', 'cloudinary_id': 'posters/The_Best_Christmas_Pageant_Ever_tt29768335'}, {'title': 'The Expanse', 'imdb_id': 'tt3230854', 'cloudinary_id': 'posters/The_Expanse_tt3230854'}, {'title': 'Don&apos;t F**k with Ghosts', 'imdb_id': 'tt28358231', 'cloudinary_id': 'posters/Donandapos;t_F**k_with_Ghosts_tt28358231'}, {'title': 'Wild Cherry', 'imdb_id': 'tt1222329', 'cloudinary_id': 'posters/Wild_Cherry_tt1222329'}, {'title': 'The Disappearance of Cari Farver', 'imdb_id': 'tt21650364', 'cloudinary_id': 'posters/The_Disappearance_of_Cari_Farver_tt21650364'}, {'title': 'The Devil Within', 'imdb_id': 'tt7308602', 'cloudinary_id': 'posters/The_Devil_Within_tt7308602'}, {'title': 'Falcon Beach', 'imdb_id': 'tt0491601', 'cloudinary_id': 'posters/Falcon_Beach_tt0491601'}, {'title': 'Home Alone: The Holiday Heist', 'imdb_id': 'tt2308733', 'cloudinary_id': 'posters/Home_Alone:_The_Holiday_Heist_tt2308733'}, {'title': 'Sunnyside', 'imdb_id': 'tt3984348', 'cloudinary_id': 'posters/Sunnyside_tt3984348'}, {'title': 'GONE: My Daughter', 'imdb_id': 'tt7503884', 'cloudinary_id': 'posters/GONE:_My_Daughter_tt7503884'}, {'title': 'Polar', 'imdb_id': 'tt4139588', 'cloudinary_id': 'posters/Polar_tt4139588'}, {'title': 'Beauty and the Beast', 'imdb_id': 'tt2193041', 'cloudinary_id': 'posters/Beauty_and_the_Beast_tt2193041'}, {'title': 'One Winter Weekend', 'imdb_id': 'tt7817348', 'cloudinary_id': 'posters/One_Winter_Weekend_tt7817348'}, {'title': 'Legends of Tomorrow', 'imdb_id': 'tt4532368', 'cloudinary_id': 'posters/Legends_of_Tomorrow_tt4532368'}, {'title': 'Eyewitness', 'imdb_id': 'tt5369352', 'cloudinary_id': 'posters/Eyewitness_tt5369352'}, {'title': 'Wait Till Helen Comes', 'imdb_id': 'tt1821701', 'cloudinary_id': 'posters/Wait_Till_Helen_Comes_tt1821701'}, {'title': 'Motorheads', 'imdb_id': 'tt13723084', 'cloudinary_id': 'no poster'}, {'title': '8-Bit Christmas', 'imdb_id': 'tt11540284', 'cloudinary_id': 'posters/8-Bit_Christmas_tt11540284'}, {'title': 'The Strain', 'imdb_id': 'tt2654620', 'cloudinary_id': 'posters/The_Strain_tt2654620'}, {'title': 'Winner', 'imdb_id': 'tt11433906', 'cloudinary_id': 'posters/Winner_tt11433906'}, {'title': 'Legenda No. 17', 'imdb_id': 'tt2182001', 'cloudinary_id': 'posters/Legenda_No._17_tt2182001'}, {'title': 'The Haunting in Connecticut', 'imdb_id': 'tt0492044', 'cloudinary_id': 'posters/The_Haunting_in_Connecticut_tt0492044'}, {'title': 'Pete&apos;s Christmas', 'imdb_id': 'tt3004544', 'cloudinary_id': 'posters/Peteandapos;s_Christmas_tt3004544'}, {'title': 'The Holiday Shift', 'imdb_id': 'tt29732006', 'cloudinary_id': 'posters/The_Holiday_Shift_tt29732006'}, {'title': 'Make It Happen', 'imdb_id': 'tt0822868', 'cloudinary_id': 'posters/Make_It_Happen_tt0822868'}, {'title': 'Reign', 'imdb_id': 'tt2710394', 'cloudinary_id': 'posters/Reign_tt2710394'}, {'title': 'The Ice Road', 'imdb_id': 'tt3758814', 'cloudinary_id': 'posters/The_Ice_Road_tt3758814'}, {'title': 'Christmas by Starlight', 'imdb_id': 'tt13206476', 'cloudinary_id': 'posters/Christmas_by_Starlight_tt13206476'}, {'title': 'The Stakelander', 'imdb_id': 'tt5843670', 'cloudinary_id': 'posters/The_Stakelander_tt5843670'}, {'title': 'You Are So Not Invited to My Bat Mitzvah', 'imdb_id': 'tt21276878', 'cloudinary_id': 'posters/You_Are_So_Not_Invited_to_My_Bat_Mitzvah_tt21276878'}, {'title': 'Hard Way Girl', 'imdb_id': 'tt5778732', 'cloudinary_id': 'posters/Hard_Way_Girl_tt5778732'}, {'title': 'Room for Rent', 'imdb_id': 'tt5796156', 'cloudinary_id': 'posters/Room_for_Rent_tt5796156'}, {'title': 'Hunter Hunter', 'imdb_id': 'tt2226162', 'cloudinary_id': 'posters/Hunter_Hunter_tt2226162'}, {'title': 'Goon: Last of the Enforcers', 'imdb_id': 'tt2417712', 'cloudinary_id': 'posters/Goon:_Last_of_the_Enforcers_tt2417712'}, {'title': 'Throwing Stones', 'imdb_id': 'tt1267304', 'cloudinary_id': 'posters/Throwing_Stones_tt1267304'}, {'title': 'Blood', 'imdb_id': 'tt13280054', 'cloudinary_id': 'posters/Blood_tt13280054'}, {'title': 'On the 12th Date of Christmas', 'imdb_id': 'tt12822926', 'cloudinary_id': 'posters/On_the_12th_Date_of_Christmas_tt12822926'}, {'title': 'Tales from the Hood 3', 'imdb_id': 'tt11453082', 'cloudinary_id': 'posters/Tales_from_the_Hood_3_tt11453082'}, {'title': 'What Would Sal Do?', 'imdb_id': 'tt4647734', 'cloudinary_id': 'posters/What_Would_Sal_Do_tt4647734'}, {'title': 'After Alice', 'imdb_id': 'tt0212742', 'cloudinary_id': 'posters/After_Alice_tt0212742'}, {'title': 'Painkiller', 'imdb_id': 'tt11816814', 'cloudinary_id': 'posters/Painkiller_tt11816814'}, {'title': 'Fargo', 'imdb_id': 'tt2802850', 'cloudinary_id': 'posters/Fargo_tt2802850'}, {'title': 'Locked Down', 'imdb_id': 'tt1597033', 'cloudinary_id': 'posters/Locked_Down_tt1597033'}, {'title': 'The Hillsdale Adoption Scam', 'imdb_id': 'tt26735986', 'cloudinary_id': 'posters/The_Hillsdale_Adoption_Scam_tt26735986'}, {'title': 'Radius', 'imdb_id': 'tt6097798', 'cloudinary_id': 'posters/Radius_tt6097798'}, {'title': 'Arrow', 'imdb_id': 'tt2193021', 'cloudinary_id': 'posters/Arrow_tt2193021'}, {'title': 'Nikita', 'imdb_id': 'tt1592154', 'cloudinary_id': 'posters/Nikita_tt1592154'}, {'title': 'When We Rise', 'imdb_id': 'tt5292622', 'cloudinary_id': 'posters/When_We_Rise_tt5292622'}, {'title': 'If It Ain&apos;t Got', 'imdb_id': 'tt10235142', 'cloudinary_id': 'posters/If_It_Ainandapos;t_Got_tt10235142'}, {'title': 'Finality of Dusk', 'imdb_id': 'tt14679876', 'cloudinary_id': 'posters/Finality_of_Dusk_tt14679876'}, {'title': 'Heaven Is for Real', 'imdb_id': 'tt1929263', 'cloudinary_id': 'posters/Heaven_Is_for_Real_tt1929263'}, {'title': 'Let&apos;s Meet Again on Christmas Eve', 'imdb_id': 'tt12843484', 'cloudinary_id': 'posters/Letandapos;s_Meet_Again_on_Christmas_Eve_tt12843484'}, {'title': 'A Dog&apos;s Purpose', 'imdb_id': 'tt1753383', 'cloudinary_id': 'posters/A_Dogandapos;s_Purpose_tt1753383'}, {'title': 'Channel Zero', 'imdb_id': 'tt4820370', 'cloudinary_id': 'posters/Channel_Zero_tt4820370'}, {'title': 'The Santa Summit', 'imdb_id': 'tt29381717', 'cloudinary_id': 'posters/The_Santa_Summit_tt29381717'}, {'title': 'Perfect Sisters', 'imdb_id': 'tt2027231', 'cloudinary_id': 'posters/Perfect_Sisters_tt2027231'}, {'title': 'Toys of Terror', 'imdb_id': 'tt13316062', 'cloudinary_id': 'posters/Toys_of_Terror_tt13316062'}, {'title': 'Wishmaster 3: Beyond the Gates of Hell', 'imdb_id': 'tt0254871', 'cloudinary_id': 'posters/Wishmaster_3:_Beyond_the_Gates_of_Hell_tt0254871'}, {'title': 'The F Word', 'imdb_id': 'tt1486834', 'cloudinary_id': 'posters/The_F_Word_tt1486834'}, {'title': 'The Exorcism of Molly Hartley', 'imdb_id': 'tt3800796', 'cloudinary_id': 'posters/The_Exorcism_of_Molly_Hartley_tt3800796'}, {'title': 'A Family Lost', 'imdb_id': 'tt0936469', 'cloudinary_id': 'posters/A_Family_Lost_tt0936469'}, {'title': 'Wishmaster 4: The Prophecy Fulfilled', 'imdb_id': 'tt0254872', 'cloudinary_id': 'posters/Wishmaster_4:_The_Prophecy_Fulfilled_tt0254872'}, {'title': 'Cinema of Sleep', 'imdb_id': 'tt10293932', 'cloudinary_id': 'posters/Cinema_of_Sleep_tt10293932'}, {'title': 'Harland Manor', 'imdb_id': 'tt15138970', 'cloudinary_id': 'posters/Harland_Manor_tt15138970'}, {'title': 'Elijah', 'imdb_id': 'tt0886485', 'cloudinary_id': 'posters/Elijah_tt0886485'}, {'title': 'Sorry for Your Loss', 'imdb_id': 'tt5428090', 'cloudinary_id': 'posters/Sorry_for_Your_Loss_tt5428090'}, {'title': 'Defending Our Kids: The Julie Posey Story', 'imdb_id': 'tt0369360', 'cloudinary_id': 'posters/Defending_Our_Kids:_The_Julie_Posey_Story_tt0369360'}, {'title': 'The Perfect Match', 'imdb_id': 'tt6928158', 'cloudinary_id': 'posters/The_Perfect_Match_tt6928158'}, {'title': 'A Warden&apos;s Ransom', 'imdb_id': 'tt3715300', 'cloudinary_id': 'posters/A_Wardenandapos;s_Ransom_tt3715300'}, {'title': 'The Lazarus Project', 'imdb_id': 'tt0464041', 'cloudinary_id': 'posters/The_Lazarus_Project_tt0464041'}, {'title': 'Bon Cop Bad Cop 2', 'imdb_id': 'tt4738174', 'cloudinary_id': 'posters/Bon_Cop_Bad_Cop_2_tt4738174'}, {'title': 'Horsemen', 'imdb_id': 'tt0892767', 'cloudinary_id': 'posters/Horsemen_tt0892767'}, {'title': 'Two Turtle Doves', 'imdb_id': 'tt10493490', 'cloudinary_id': 'posters/Two_Turtle_Doves_tt10493490'}, {'title': 'Covert Affairs', 'imdb_id': 'tt1495708', 'cloudinary_id': 'posters/Covert_Affairs_tt1495708'}, {'title': 'Hybrid', 'imdb_id': 'tt0874917', 'cloudinary_id': 'posters/Hybrid_tt0874917'}, {'title': 'On Thin Ice', 'imdb_id': 'tt0345119', 'cloudinary_id': 'posters/On_Thin_Ice_tt0345119'}, {'title': 'The Divide', 'imdb_id': 'tt1535616', 'cloudinary_id': 'posters/The_Divide_tt1535616'}, {'title': 'It Chapter Two', 'imdb_id': 'tt7349950', 'cloudinary_id': 'posters/It_Chapter_Two_tt7349950'}, {'title': 'Fear Itself', 'imdb_id': 'tt1112285', 'cloudinary_id': 'posters/Fear_Itself_tt1112285'}, {'title': 'Walk All Over Me', 'imdb_id': 'tt0907680', 'cloudinary_id': 'posters/Walk_All_Over_Me_tt0907680'}, {'title': 'Girl', 'imdb_id': 'tt9392374', 'cloudinary_id': 'posters/Girl_tt9392374'}, {'title': 'Channel Zero', 'imdb_id': 'tt4121480', 'cloudinary_id': 'posters/Channel_Zero_tt4121480'}, {'title': 'Thanksgiving', 'imdb_id': 'tt1448754', 'cloudinary_id': 'posters/Thanksgiving_tt1448754'}, {'title': 'The Secret Ingredient', 'imdb_id': 'tt11421396', 'cloudinary_id': 'posters/The_Secret_Ingredient_tt11421396'}, {'title': 'The Ballad of Gus', 'imdb_id': 'tt21827804', 'cloudinary_id': 'posters/The_Ballad_of_Gus_tt21827804'}, {'title': 'WolfCop', 'imdb_id': 'tt2781516', 'cloudinary_id': 'posters/WolfCop_tt2781516'}, {'title': 'Titans', 'imdb_id': 'tt1043813', 'cloudinary_id': 'posters/Titans_tt1043813'}, {'title': 'Category 7: The End of the World', 'imdb_id': 'tt0468988', 'cloudinary_id': 'posters/Category_7:_The_End_of_the_World_tt0468988'}, {'title': 'Cashing In', 'imdb_id': 'tt1393004', 'cloudinary_id': 'posters/Cashing_In_tt1393004'}, {'title': 'Passchendaele', 'imdb_id': 'tt1092082', 'cloudinary_id': 'posters/Passchendaele_tt1092082'}, {'title': 'The Murdoch Mysteries', 'imdb_id': 'tt0386955', 'cloudinary_id': 'posters/The_Murdoch_Mysteries_tt0386955'}, {'title': 'Percy', 'imdb_id': 'tt8976696', 'cloudinary_id': 'posters/Percy_tt8976696'}, {'title': 'Jack', 'imdb_id': 'tt2253566', 'cloudinary_id': 'posters/Jack_tt2253566'}, {'title': 'Levels', 'imdb_id': 'tt10831486', 'cloudinary_id': 'posters/Levels_tt10831486'}, {'title': 'Edge of Winter', 'imdb_id': 'tt4526546', 'cloudinary_id': 'posters/Edge_of_Winter_tt4526546'}, {'title': 'The Return', 'imdb_id': 'tt8429394', 'cloudinary_id': 'posters/The_Return_tt8429394'}, {'title': 'Altar', 'imdb_id': 'tt32384713', 'cloudinary_id': 'no poster'}, {'title': 'Shadow Island Mysteries', 'imdb_id': 'tt13197662', 'cloudinary_id': 'posters/Shadow_Island_Mysteries_tt13197662'}, {'title': 'Stegman Is Dead', 'imdb_id': 'tt3858454', 'cloudinary_id': 'posters/Stegman_Is_Dead_tt3858454'}, {'title': 'Legion', 'imdb_id': 'tt5114356', 'cloudinary_id': 'posters/Legion_tt5114356'}, {'title': 'Lost Girl', 'imdb_id': 'tt1429449', 'cloudinary_id': 'posters/Lost_Girl_tt1429449'}, {'title': 'First Person Shooter', 'imdb_id': 'tt15094568', 'cloudinary_id': 'posters/First_Person_Shooter_tt15094568'}, {'title': 'Todd and the Book of Pure Evil', 'imdb_id': 'tt1558128', 'cloudinary_id': 'posters/Todd_and_the_Book_of_Pure_Evil_tt1558128'}, {'title': 'A Shoe Addict&apos;s Christmas', 'imdb_id': 'tt8634202', 'cloudinary_id': 'posters/A_Shoe_Addictandapos;s_Christmas_tt8634202'}, {'title': 'Ghostland', 'imdb_id': 'tt6195094', 'cloudinary_id': 'posters/Ghostland_tt6195094'}, {'title': 'The Magic of Lemon Drops', 'imdb_id': 'tt33057274', 'cloudinary_id': 'posters/The_Magic_of_Lemon_Drops_tt33057274'}, {'title': 'The Craft: Legacy', 'imdb_id': 'tt4685762', 'cloudinary_id': 'posters/The_Craft:_Legacy_tt4685762'}, {'title': 'Under the Autumn Moon', 'imdb_id': 'tt8863322', 'cloudinary_id': 'posters/Under_the_Autumn_Moon_tt8863322'}, {'title': 'Unspoken', 'imdb_id': 'tt16225672', 'cloudinary_id': 'posters/Unspoken_tt16225672'}, {'title': 'Men with Brooms', 'imdb_id': 'tt1710525', 'cloudinary_id': 'posters/Men_with_Brooms_tt1710525'}, {'title': 'My One &amp; Only', 'imdb_id': 'tt10651668', 'cloudinary_id': 'posters/My_One_andamp;_Only_tt10651668'}, {'title': 'Bunks', 'imdb_id': 'tt3161448', 'cloudinary_id': 'posters/Bunks_tt3161448'}, {'title': 'Strings', 'imdb_id': 'tt2950052', 'cloudinary_id': 'posters/Strings_tt2950052'}, {'title': 'Melaleuca', 'imdb_id': 'tt17079684', 'cloudinary_id': 'no poster'}, {'title': 'Time Cut', 'imdb_id': 'tt14857528', 'cloudinary_id': 'posters/Time_Cut_tt14857528'}, {'title': 'The Law of Enclosures', 'imdb_id': 'tt0262560', 'cloudinary_id': 'posters/The_Law_of_Enclosures_tt0262560'}, {'title': 'Bad Romance: The Vicky White Story', 'imdb_id': 'tt29007231', 'cloudinary_id': 'posters/Bad_Romance:_The_Vicky_White_Story_tt29007231'}, {'title': 'Love Strikes Twice', 'imdb_id': 'tt15209000', 'cloudinary_id': 'posters/Love_Strikes_Twice_tt15209000'}, {'title': 'Always and Forever Christmas', 'imdb_id': 'tt10921256', 'cloudinary_id': 'posters/Always_and_Forever_Christmas_tt10921256'}, {'title': 'One Christmas Eve', 'imdb_id': 'tt3725224', 'cloudinary_id': 'posters/One_Christmas_Eve_tt3725224'}, {'title': 'Population 436', 'imdb_id': 'tt0462482', 'cloudinary_id': 'posters/Population_436_tt0462482'}, {'title': 'Who Loves the Sun', 'imdb_id': 'tt0471930', 'cloudinary_id': 'posters/Who_Loves_the_Sun_tt0471930'}, {'title': 'A Christmas Cookie Catastrophe', 'imdb_id': 'tt22207828', 'cloudinary_id': 'posters/A_Christmas_Cookie_Catastrophe_tt22207828'}, {'title': 'Stranded', 'imdb_id': 'tt2268573', 'cloudinary_id': 'posters/Stranded_tt2268573'}, {'title': 'Foodland', 'imdb_id': 'tt1363368', 'cloudinary_id': 'posters/Foodland_tt1363368'}, {'title': 'Grace', 'imdb_id': 'tt1220213', 'cloudinary_id': 'posters/Grace_tt1220213'}, {'title': 'Acting Good', 'imdb_id': 'tt21057376', 'cloudinary_id': 'posters/Acting_Good_tt21057376'}, {'title': 'Less Than Kind', 'imdb_id': 'tt1159996', 'cloudinary_id': 'posters/Less_Than_Kind_tt1159996'}, {'title': 'Pumpkin Everything', 'imdb_id': 'tt21413684', 'cloudinary_id': 'posters/Pumpkin_Everything_tt21413684'}, {'title': 'Warrior', 'imdb_id': 'tt4465080', 'cloudinary_id': 'no poster'}, {'title': 'A Dog&apos;s Journey', 'imdb_id': 'tt8385474', 'cloudinary_id': 'posters/A_Dogandapos;s_Journey_tt8385474'}, {'title': 'Nobody', 'imdb_id': 'tt7888964', 'cloudinary_id': 'posters/Nobody_tt7888964'}, {'title': 'The Crow - Nightwatch', 'imdb_id': 'tt12048070', 'cloudinary_id': 'posters/The_Crow_-_Nightwatch_tt12048070'}, {'title': 'The Long Walk', 'imdb_id': 'tt10374610', 'cloudinary_id': 'posters/The_Long_Walk_tt10374610'}, {'title': 'A Christmas Mission', 'imdb_id': 'tt13918522', 'cloudinary_id': 'posters/A_Christmas_Mission_tt13918522'}, {'title': 'Amreeka', 'imdb_id': 'tt1190858', 'cloudinary_id': 'posters/Amreeka_tt1190858'}, {'title': 'Wrath of Grapes: The Don Cherry Story II', 'imdb_id': 'tt2163913', 'cloudinary_id': 'posters/Wrath_of_Grapes:_The_Don_Cherry_Story_II_tt2163913'}, {'title': 'Vandits', 'imdb_id': 'tt6678124', 'cloudinary_id': 'posters/Vandits_tt6678124'}, {'title': 'Wedding Season', 'imdb_id': 'tt11426572', 'cloudinary_id': 'posters/Wedding_Season_tt11426572'}, {'title': 'The Grudge', 'imdb_id': 'tt3612126', 'cloudinary_id': 'posters/The_Grudge_tt3612126'}, {'title': 'My Awkward Sexual Adventure', 'imdb_id': 'tt2112210', 'cloudinary_id': 'posters/My_Awkward_Sexual_Adventure_tt2112210'}, {'title': 'Ordinary Angels', 'imdb_id': 'tt4996328', 'cloudinary_id': 'posters/Ordinary_Angels_tt4996328'}, {'title': 'Another Day', 'imdb_id': 'tt0295172', 'cloudinary_id': 'posters/Another_Day_tt0295172'}, {'title': 'Teen Lust', 'imdb_id': 'tt1718915', 'cloudinary_id': 'posters/Teen_Lust_tt1718915'}, {'title': 'Crashing Through the Snow', 'imdb_id': 'tt14809392', 'cloudinary_id': 'posters/Crashing_Through_the_Snow_tt14809392'}, {'title': 'The Hazing Secret', 'imdb_id': 'tt4012932', 'cloudinary_id': 'posters/The_Hazing_Secret_tt4012932'}, {'title': 'Taken in Broad Daylight', 'imdb_id': 'tt0968311', 'cloudinary_id': 'posters/Taken_in_Broad_Daylight_tt0968311'}, {'title': 'Nobody 2', 'imdb_id': 'tt28996126', 'cloudinary_id': 'no poster'}, {'title': 'Dream Scenario', 'imdb_id': 'tt21942866', 'cloudinary_id': 'posters/Dream_Scenario_tt21942866'}, {'title': 'Skymed', 'imdb_id': 'tt15437862', 'cloudinary_id': 'posters/Skymed_tt15437862'}, {'title': 'Mr. Hockey: The Gordie Howe Story', 'imdb_id': 'tt0883391', 'cloudinary_id': 'posters/Mr._Hockey:_The_Gordie_Howe_Story_tt0883391'}, {'title': 'Sniper: Rogue Mission', 'imdb_id': 'tt21222434', 'cloudinary_id': 'posters/Sniper:_Rogue_Mission_tt21222434'}, {'title': 'The Man from Toronto', 'imdb_id': 'tt11671006', 'cloudinary_id': 'posters/The_Man_from_Toronto_tt11671006'}, {'title': 'Suits', 'imdb_id': 'tt1632701', 'cloudinary_id': 'posters/Suits_tt1632701'}, {'title': 'Welcome to Sudden Death', 'imdb_id': 'tt10804786', 'cloudinary_id': 'posters/Welcome_to_Sudden_Death_tt10804786'}, {'title': 'The Capture of the Green River Killer', 'imdb_id': 'tt1100911', 'cloudinary_id': 'posters/The_Capture_of_the_Green_River_Killer_tt1100911'}, {'title': 'Mad Ship', 'imdb_id': 'tt2094883', 'cloudinary_id': 'posters/Mad_Ship_tt2094883'}, {'title': 'King of Killers', 'imdb_id': 'tt14057604', 'cloudinary_id': 'posters/King_of_Killers_tt14057604'}, {'title': 'Steel', 'imdb_id': 'tt3588082', 'cloudinary_id': 'posters/Steel_tt3588082'}, {'title': 'Ruby and the Well', 'imdb_id': 'tt15113594', 'cloudinary_id': 'posters/Ruby_and_the_Well_tt15113594'}, {'title': 'Haunted Wedding', 'imdb_id': 'tt32660113', 'cloudinary_id': 'posters/Haunted_Wedding_tt32660113'}, {'title': 'A Dream of Christmas', 'imdb_id': 'tt6279602', 'cloudinary_id': 'posters/A_Dream_of_Christmas_tt6279602'}, {'title': 'We Were Children', 'imdb_id': 'tt1934472', 'cloudinary_id': 'posters/We_Were_Children_tt1934472'}, {'title': 'Reasonable Doubt', 'imdb_id': 'tt2304953', 'cloudinary_id': 'posters/Reasonable_Doubt_tt2304953'}, {'title': 'Mobile Homes', 'imdb_id': 'tt5613402', 'cloudinary_id': 'posters/Mobile_Homes_tt5613402'}, {'title': 'Missing and Alone', 'imdb_id': 'tt16352374', 'cloudinary_id': 'posters/Missing_and_Alone_tt16352374'}, {'title': 'Acceptable Risk', 'imdb_id': 'tt0262208', 'cloudinary_id': 'posters/Acceptable_Risk_tt0262208'}, {'title': 'New in Town', 'imdb_id': 'tt1095174', 'cloudinary_id': 'posters/New_in_Town_tt1095174'}, {'title': 'The First Encounter', 'imdb_id': 'tt8771964', 'cloudinary_id': 'no poster'}, {'title': 'Wolf in Dude&apos;s Clothing', 'imdb_id': 'tt13971664', 'cloudinary_id': 'posters/Wolf_in_Dudeandapos;s_Clothing_tt13971664'}, {'title': 'The Lookout', 'imdb_id': 'tt0427470', 'cloudinary_id': 'posters/The_Lookout_tt0427470'}, {'title': 'Amazing Winter Romance', 'imdb_id': 'tt10297640', 'cloudinary_id': 'posters/Amazing_Winter_Romance_tt10297640'}, {'title': 'Stand!', 'imdb_id': 'tt5323082', 'cloudinary_id': 'posters/Stand!_tt5323082'}, {'title': 'Escaping the Madhouse: The Nellie Bly Story', 'imdb_id': 'tt8318648', 'cloudinary_id': 'posters/Escaping_the_Madhouse:_The_Nellie_Bly_Story_tt8318648'}, {'title': 'Nostradamus', 'imdb_id': 'tt0207631', 'cloudinary_id': 'posters/Nostradamus_tt0207631'}, {'title': 'Champions', 'imdb_id': 'tt15339570', 'cloudinary_id': 'posters/Champions_tt15339570'}, {'title': 'The Island', 'imdb_id': 'tt31049340', 'cloudinary_id': 'posters/The_Island_tt31049340'}, {'title': 'Fractured', 'imdb_id': 'tt4332232', 'cloudinary_id': 'posters/Fractured_tt4332232'}, {'title': 'FUBAR', 'imdb_id': 'tt13064902', 'cloudinary_id': 'posters/FUBAR_tt13064902'}, {'title': 'Burden of Truth', 'imdb_id': 'tt6987476', 'cloudinary_id': 'posters/Burden_of_Truth_tt6987476'}, {'title': 'All Fun and Games', 'imdb_id': 'tt10092698', 'cloudinary_id': 'posters/All_Fun_and_Games_tt10092698'}, {'title': 'Breakthrough', 'imdb_id': 'tt7083526', 'cloudinary_id': 'posters/Breakthrough_tt7083526'}, {'title': 'Lucid', 'imdb_id': 'tt0434165', 'cloudinary_id': 'posters/Lucid_tt0434165'}, {'title': 'Snowkissed', 'imdb_id': 'tt13606148', 'cloudinary_id': 'posters/Snowkissed_tt13606148'}, {'title': 'Zeyda and the Hitman', 'imdb_id': 'tt0381720', 'cloudinary_id': 'posters/Zeyda_and_the_Hitman_tt0381720'}, {'title': 'Dark Harvest', 'imdb_id': 'tt9204328', 'cloudinary_id': 'posters/Dark_Harvest_tt9204328'}, {'title': 'Five Days at Memorial', 'imdb_id': 'tt3283594', 'cloudinary_id': 'posters/Five_Days_at_Memorial_tt3283594'}, {'title': 'Deaner &apos;89', 'imdb_id': 'tt23149654', 'cloudinary_id': 'posters/Deaner_andapos;89_tt23149654'}, {'title': 'Bed Rest', 'imdb_id': 'tt4896168', 'cloudinary_id': 'posters/Bed_Rest_tt4896168'}, {'title': 'Zombies 2', 'imdb_id': 'tt9766166', 'cloudinary_id': 'posters/Zombies_2_tt9766166'}, {'title': 'Considering Love and Other Magic', 'imdb_id': 'tt5189838', 'cloudinary_id': 'posters/Considering_Love_and_Other_Magic_tt5189838'}, {'title': 'Tooth Fairy', 'imdb_id': 'tt0808510', 'cloudinary_id': 'posters/Tooth_Fairy_tt0808510'}, {'title': 'Aloft', 'imdb_id': 'tt2494384', 'cloudinary_id': 'posters/Aloft_tt2494384'}, {'title': 'Pixels', 'imdb_id': 'tt2120120', 'cloudinary_id': 'posters/Pixels_tt2120120'}, {'title': 'Something Beneath', 'imdb_id': 'tt0896040', 'cloudinary_id': 'posters/Something_Beneath_tt0896040'}, {'title': 'Seance', 'imdb_id': 'tt11188624', 'cloudinary_id': 'posters/Seance_tt11188624'}, {'title': 'Murder Mystery 2', 'imdb_id': 'tt15255288', 'cloudinary_id': 'posters/Murder_Mystery_2_tt15255288'}, {'title': 'Beethoven&apos;s Christmas Adventure', 'imdb_id': 'tt1855134', 'cloudinary_id': 'posters/Beethovenandapos;s_Christmas_Adventure_tt1855134'}, {'title': 'The Shortcut', 'imdb_id': 'tt1243955', 'cloudinary_id': 'posters/The_Shortcut_tt1243955'}, {'title': 'Goon', 'imdb_id': 'tt1456635', 'cloudinary_id': 'posters/Goon_tt1456635'}, {'title': 'Trench 11', 'imdb_id': 'tt5033290', 'cloudinary_id': 'posters/Trench_11_tt5033290'}, {'title': 'The Porter', 'imdb_id': 'tt13847690', 'cloudinary_id': 'posters/The_Porter_tt13847690'}, {'title': 'Woman with the Red Lipstick', 'imdb_id': 'tt30252366', 'cloudinary_id': 'posters/Woman_with_the_Red_Lipstick_tt30252366'}, {'title': 'Finn on the Fly', 'imdb_id': 'tt1065300', 'cloudinary_id': 'posters/Finn_on_the_Fly_tt1065300'}, {'title': 'McKenna Shoots for the Stars', 'imdb_id': 'tt1969175', 'cloudinary_id': 'posters/McKenna_Shoots_for_the_Stars_tt1969175'}, {'title': 'The Year Dolly Parton Was My Mom', 'imdb_id': 'tt1316624', 'cloudinary_id': 'posters/The_Year_Dolly_Parton_Was_My_Mom_tt1316624'}, {'title': 'You Kill Me', 'imdb_id': 'tt0796375', 'cloudinary_id': 'posters/You_Kill_Me_tt0796375'}, {'title': 'Tales from the Loop', 'imdb_id': 'tt8741290', 'cloudinary_id': 'posters/Tales_from_the_Loop_tt8741290'}, {'title': 'Category 6: Day of Destruction', 'imdb_id': 'tt0428144', 'cloudinary_id': 'posters/Category_6:_Day_of_Destruction_tt0428144'}, {'title': 'Grizzly Rage', 'imdb_id': 'tt0896816', 'cloudinary_id': 'posters/Grizzly_Rage_tt0896816'}, {'title': 'Violent Night', 'imdb_id': 'tt12003946', 'cloudinary_id': 'posters/Violent_Night_tt12003946'}, {'title': 'First Session', 'imdb_id': 'tt11904790', 'cloudinary_id': 'posters/First_Session_tt11904790'}, {'title': 'Wynter', 'imdb_id': 'tt6706272', 'cloudinary_id': 'posters/Wynter_tt6706272'}, {'title': 'Siberia', 'imdb_id': 'tt6494418', 'cloudinary_id': 'posters/Siberia_tt6494418'}, {'title': 'What If God Were the Sun?', 'imdb_id': 'tt0953915', 'cloudinary_id': 'posters/What_If_God_Were_the_Sun_tt0953915'}, {'title': 'Joy Ride 3: Road Kill', 'imdb_id': 'tt3138376', 'cloudinary_id': 'posters/Joy_Ride_3:_Road_Kill_tt3138376'}, {'title': 'Francesca Quinn, PI', 'imdb_id': 'tt21532904', 'cloudinary_id': 'posters/Francesca_Quinn,_PI_tt21532904'}, {'title': 'I Am Somebody&apos;s Child: The Regina Louise Story', 'imdb_id': 'tt9053916', 'cloudinary_id': 'posters/I_Am_Somebodyandapos;s_Child:_The_Regina_Louise_Story_tt9053916'}, {'title': 'Christmas Connection', 'imdb_id': 'tt7630836', 'cloudinary_id': 'posters/Christmas_Connection_tt7630836'}, {'title': 'Midnight Sun', 'imdb_id': 'tt2390283', 'cloudinary_id': 'posters/Midnight_Sun_tt2390283'}, {'title': 'Seven Times Lucky', 'imdb_id': 'tt0364656', 'cloudinary_id': 'posters/Seven_Times_Lucky_tt0364656'}, {'title': 'Curse of Chucky', 'imdb_id': 'tt2230358', 'cloudinary_id': 'posters/Curse_of_Chucky_tt2230358'}, {'title': 'Becky', 'imdb_id': 'tt10314450', 'cloudinary_id': 'posters/Becky_tt10314450'}, {'title': 'Copper', 'imdb_id': 'tt2006374', 'cloudinary_id': 'posters/Copper_tt2006374'}, {'title': 'A Secret to Keep', 'imdb_id': 'tt13292408', 'cloudinary_id': 'posters/A_Secret_to_Keep_tt13292408'}, {'title': 'Many Wounds', 'imdb_id': 'tt29869031', 'cloudinary_id': 'posters/Many_Wounds_tt29869031'}, {'title': 'Polarized', 'imdb_id': 'tt6800566', 'cloudinary_id': 'posters/Polarized_tt6800566'}, {'title': 'Rookie Blue', 'imdb_id': 'tt1442065', 'cloudinary_id': 'posters/Rookie_Blue_tt1442065'}, {'title': 'Little Bird', 'imdb_id': 'tt22750834', 'cloudinary_id': 'posters/Little_Bird_tt22750834'}, {'title': 'Nightmare Alley', 'imdb_id': 'tt7740496', 'cloudinary_id': 'posters/Nightmare_Alley_tt7740496'}, {'title': 'Night Hunter', 'imdb_id': 'tt6533240', 'cloudinary_id': 'posters/Night_Hunter_tt6533240'}, {'title': 'The Boys', 'imdb_id': 'tt1190634', 'cloudinary_id': 'posters/The_Boys_tt1190634'}, {'title': 'The Midnight Man', 'imdb_id': 'tt5629964', 'cloudinary_id': 'posters/The_Midnight_Man_tt5629964'}, {'title': 'I Still See You', 'imdb_id': 'tt2160105', 'cloudinary_id': 'posters/I_Still_See_You_tt2160105'}, {'title': 'Lovesick', 'imdb_id': 'tt4996022', 'cloudinary_id': 'posters/Lovesick_tt4996022'}, {'title': 'The Assassination of Jesse James by the Coward Robert Ford', 'imdb_id': 'tt0443680', 'cloudinary_id': 'posters/The_Assassination_of_Jesse_James_by_the_Coward_Robert_Ford_tt0443680'}, {'title': 'Clown in A Cornfield', 'imdb_id': 'tt23060698', 'cloudinary_id': 'posters/Clown_in_A_Cornfield_tt23060698'}, {'title': 'Period Piece', 'imdb_id': 'tt3823742', 'cloudinary_id': 'posters/Period_Piece_tt3823742'}, {'title': 'The Christmas Heart', 'imdb_id': 'tt2415468', 'cloudinary_id': 'posters/The_Christmas_Heart_tt2415468'}, {'title': 'Don&apos;t Even', 'imdb_id': 'tt32560033', 'cloudinary_id': 'posters/Donandapos;t_Even_tt32560033'}, {'title': 'The Toll', 'imdb_id': 'tt9202550', 'cloudinary_id': 'posters/The_Toll_tt9202550'}, {'title': 'A Winter Getaway', 'imdb_id': 'tt13606142', 'cloudinary_id': 'posters/A_Winter_Getaway_tt13606142'}, {'title': 'High Life', 'imdb_id': 'tt1143110', 'cloudinary_id': 'posters/High_Life_tt1143110'}, {'title': 'Resident Evil: Welcome to Raccoon City', 'imdb_id': 'tt6920084', 'cloudinary_id': 'posters/Resident_Evil:_Welcome_to_Raccoon_City_tt6920084'}, {'title': 'Keep Your Head Up, Kid: The Don Cherry Story', 'imdb_id': 'tt1546555', 'cloudinary_id': 'posters/Keep_Your_Head_Up,_Kid:_The_Don_Cherry_Story_tt1546555'}, {'title': 'Cult of Chucky', 'imdb_id': 'tt3280262', 'cloudinary_id': 'posters/Cult_of_Chucky_tt3280262'}, {'title': 'Hello, Goodbye and Everything in Between', 'imdb_id': 'tt4181158', 'cloudinary_id': 'posters/Hello,_Goodbye_and_Everything_in_Between_tt4181158'}, {'title': 'White House Down', 'imdb_id': 'tt2334879', 'cloudinary_id': 'posters/White_House_Down_tt2334879'}, {'title': 'With Love', 'imdb_id': 'tt30788842', 'cloudinary_id': 'no poster'}, {'title': 'Wintertide', 'imdb_id': 'tt6628462', 'cloudinary_id': 'posters/Wintertide_tt6628462'}, {'title': 'Borealis', 'imdb_id': 'tt3630652', 'cloudinary_id': 'posters/Borealis_tt3630652'}, {'title': 'Faces in the Crowd', 'imdb_id': 'tt1536410', 'cloudinary_id': 'posters/Faces_in_the_Crowd_tt1536410'}, {'title': 'Sweet Autumn', 'imdb_id': 'tt13057170', 'cloudinary_id': 'posters/Sweet_Autumn_tt13057170'}, {'title': 'House Party', 'imdb_id': 'tt1105316', 'cloudinary_id': 'posters/House_Party_tt1105316'}, {'title': 'Carter', 'imdb_id': 'tt7083006', 'cloudinary_id': 'posters/Carter_tt7083006'}, {'title': 'Killjoys', 'imdb_id': 'tt3952222', 'cloudinary_id': 'posters/Killjoys_tt3952222'}, {'title': 'ATM', 'imdb_id': 'tt1603257', 'cloudinary_id': 'posters/ATM_tt1603257'}, {'title': 'Edgar', 'imdb_id': 'tt12873702', 'cloudinary_id': 'posters/Edgar_tt12873702'}, {'title': 'Ann Rule&apos;s A House on Fire', 'imdb_id': 'tt13318928', 'cloudinary_id': 'posters/Ann_Ruleandapos;s_A_House_on_Fire_tt13318928'}, {'title': 'Wrong Turn 4: Bloody Beginnings', 'imdb_id': 'tt1865567', 'cloudinary_id': 'posters/Wrong_Turn_4:_Bloody_Beginnings_tt1865567'}, {'title': 'Expectations', 'imdb_id': 'tt26753119', 'cloudinary_id': 'no poster'}, {'title': 'SuperGrid', 'imdb_id': 'tt6949498', 'cloudinary_id': 'posters/SuperGrid_tt6949498'}, {'title': 'Maneater', 'imdb_id': 'tt0846713', 'cloudinary_id': 'posters/Maneater_tt0846713'}, {'title': 'Normal', 'imdb_id': 'tt31195136', 'cloudinary_id': 'no poster'}, {'title': 'Christmas at the Plaza', 'imdb_id': 'tt10921042', 'cloudinary_id': 'posters/Christmas_at_the_Plaza_tt10921042'}, {'title': 'Silent Night', 'imdb_id': 'tt2347497', 'cloudinary_id': 'posters/Silent_Night_tt2347497'}, {'title': 'We Summon the Darkness', 'imdb_id': 'tt8058874', 'cloudinary_id': 'posters/We_Summon_the_Darkness_tt8058874'}, {'title': 'The Returned', 'imdb_id': 'tt2093270', 'cloudinary_id': 'posters/The_Returned_tt2093270'}, {'title': 'Falcon Beach', 'imdb_id': 'tt0430074', 'cloudinary_id': 'no poster'}, {'title': 'Haunting Sarah', 'imdb_id': 'tt0463029', 'cloudinary_id': 'posters/Haunting_Sarah_tt0463029'}, {'title': 'Look Away', 'imdb_id': 'tt5834760', 'cloudinary_id': 'posters/Look_Away_tt5834760'}, {'title': 'Bring It On: Cheer or Die', 'imdb_id': 'tt20101986', 'cloudinary_id': 'posters/Bring_It_On:_Cheer_or_Die_tt20101986'}, {'title': 'Full of It', 'imdb_id': 'tt0446752', 'cloudinary_id': 'posters/Full_of_It_tt0446752'}, {'title': 'Bad Meat', 'imdb_id': 'tt1034010', 'cloudinary_id': 'posters/Bad_Meat_tt1034010'}, {'title': 'From', 'imdb_id': 'tt9813792', 'cloudinary_id': 'posters/From_tt9813792'}, {'title': 'How It Ends', 'imdb_id': 'tt5246700', 'cloudinary_id': 'posters/How_It_Ends_tt5246700'}, {'title': 'Whiteout', 'imdb_id': 'tt0365929', 'cloudinary_id': 'posters/Whiteout_tt0365929'}, {'title': 'The Pinkertons', 'imdb_id': 'tt4089276', 'cloudinary_id': 'posters/The_Pinkertons_tt4089276'}, {'title': 'Hunting Season', 'imdb_id': 'tt2315338', 'cloudinary_id': 'posters/Hunting_Season_tt2315338'}, {'title': 'Perfect Citizen', 'imdb_id': 'tt6470128', 'cloudinary_id': 'no poster'}, {'title': 'Orphan: First Kill', 'imdb_id': 'tt11851548', 'cloudinary_id': 'posters/Orphan:_First_Kill_tt11851548'}, {'title': 'Psycho Killer', 'imdb_id': 'tt1764551', 'cloudinary_id': 'no poster'}, {'title': 'The Spencer Sisters', 'imdb_id': 'tt21275092', 'cloudinary_id': 'posters/The_Spencer_Sisters_tt21275092'}, {'title': 'Run', 'imdb_id': 'tt8633478', 'cloudinary_id': 'posters/Run_tt8633478'}, {'title': 'Clear Lake', 'imdb_id': 'tt1238284', 'cloudinary_id': 'posters/Clear_Lake_tt1238284'}, {'title': 'The Silencing', 'imdb_id': 'tt7149730', 'cloudinary_id': 'posters/The_Silencing_tt7149730'}, {'title': 'Taken', 'imdb_id': 'tt5052460', 'cloudinary_id': 'posters/Taken_tt5052460'}, {'title': 'Eye of the Beast', 'imdb_id': 'tt0867286', 'cloudinary_id': 'posters/Eye_of_the_Beast_tt0867286'}, {'title': 'Hair of the Bear', 'imdb_id': 'tt30144738', 'cloudinary_id': 'no poster'}, {'title': 'A Bear Named Winnie', 'imdb_id': 'tt0437088', 'cloudinary_id': 'posters/A_Bear_Named_Winnie_tt0437088'}, {'title': 'Blue State', 'imdb_id': 'tt0780486', 'cloudinary_id': 'posters/Blue_State_tt0780486'}, {'title': 'The Plague', 'imdb_id': 'tt0479125', 'cloudinary_id': 'posters/The_Plague_tt0479125'}, {'title': 'Romance in Style', 'imdb_id': 'tt21653744', 'cloudinary_id': 'posters/Romance_in_Style_tt21653744'}, {'title': 'Another WolfCop', 'imdb_id': 'tt4515762', 'cloudinary_id': 'posters/Another_WolfCop_tt4515762'}, {'title': 'The Messengers', 'imdb_id': 'tt0425430', 'cloudinary_id': 'posters/The_Messengers_tt0425430'}, {'title': 'The Hessen Affair', 'imdb_id': 'tt1153106', 'cloudinary_id': 'posters/The_Hessen_Affair_tt1153106'}, {'title': 'Devil&apos;s Gate', 'imdb_id': 'tt4610748', 'cloudinary_id': 'posters/Devilandapos;s_Gate_tt4610748'}, {'title': 'The Parts You Lose', 'imdb_id': 'tt4827922', 'cloudinary_id': 'posters/The_Parts_You_Lose_tt4827922'}, {'title': 'Shoresy', 'imdb_id': 'tt18249282', 'cloudinary_id': 'posters/Shoresy_tt18249282'}, {'title': 'Once Upon a Time', 'imdb_id': 'tt1843230', 'cloudinary_id': 'posters/Once_Upon_a_Time_tt1843230'}, {'title': 'Star Trek: Strange New Worlds', 'imdb_id': 'tt12327578', 'cloudinary_id': 'posters/Star_Trek:_Strange_New_Worlds_tt12327578'}, {'title': 'Safehaven', 'imdb_id': 'tt6098278', 'cloudinary_id': 'posters/Safehaven_tt6098278'}, {'title': 'Mother&apos;s Day', 'imdb_id': 'tt1434435', 'cloudinary_id': 'posters/Motherandapos;s_Day_tt1434435'}, {'title': 'Rabbit Hole', 'imdb_id': 'tt5822112', 'cloudinary_id': 'posters/Rabbit_Hole_tt5822112'}, {'title': 'Hyena Road', 'imdb_id': 'tt4034452', 'cloudinary_id': 'posters/Hyena_Road_tt4034452'}]

   
    # Send the updated credits to the Node API for updating the credits table
    update_credits_on_node(new_credits, node_api_url, github_token)

